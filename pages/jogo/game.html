<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Jogo da On√ßa</title>
    <link rel="stylesheet" href="./css/style.css" />
</head>

<body>
    <div class="parent">
        <div class="grid-time">
            <div class="tempo">
                <img src="./img/icons/timer.png" width="25px" alt="" /><span>00:00:<span id="tempo">15</span></span>
            </div>
        </div>

        <div class="grid-diversao">
            <img style="max-width: 100%;" id="img-diversao" src="" alt="">
        </div>

        <div class="grid-placar">
            <img class="tema-placar" src="./img/monkey.png" alt="" />
            <img class="img-placar" src="./img/placar.png" alt="" />
            <span id="score">0</span>
        </div>

        <div class="grid-tabuleiro">
            <div class="tabuleiro-container">
                <div class="tabuleiro">
                    <div class="row">
                        <div class="cell piece-dog" data-x="0" data-y="0"></div>
                        <div class="cell piece-dog" data-x="1" data-y="0"></div>
                        <div class="cell piece-dog" data-x="2" data-y="0"></div>
                        <div class="cell piece-dog" data-x="3" data-y="0"></div>
                        <div class="cell piece-dog" data-x="4" data-y="0"></div>
                    </div>
                    <div class="row">
                        <div class="cell piece-dog" data-x="0" data-y="1"></div>
                        <div class="cell piece-dog" data-x="1" data-y="1"></div>
                        <div class="cell piece-dog" data-x="2" data-y="1"></div>
                        <div class="cell piece-dog" data-x="3" data-y="1"></div>
                        <div class="cell piece-dog" data-x="4" data-y="1"></div>
                    </div>
                    <div class="row">
                        <div class="cell piece-dog" data-x="0" data-y="2"></div>
                        <div class="cell piece-dog" data-x="1" data-y="2"></div>
                        <div class="cell piece-jaguar" data-x="2" data-y="2"></div>
                        <div class="cell piece-dog" data-x="3" data-y="2"></div>
                        <div class="cell piece-dog" data-x="4" data-y="2"></div>
                    </div>
                    <div class="row">
                        <div class="cell" data-x="0" data-y="3"></div>
                        <div class="cell" data-x="1" data-y="3"></div>
                        <div class="cell" data-x="2" data-y="3"></div>
                        <div class="cell" data-x="3" data-y="3"></div>
                        <div class="cell" data-x="4" data-y="3"></div>
                    </div>
                    <div class="row">
                        <div class="cell" data-x="0" data-y="4"></div>
                        <div class="cell" data-x="1" data-y="4"></div>
                        <div class="cell" data-x="2" data-y="4"></div>
                        <div class="cell" data-x="3" data-y="4"></div>
                        <div class="cell" data-x="4" data-y="4"></div>
                    </div>

                    <!--Toca-->

                    <div class="row">
                        <div class="cell1" data-x="0" data-y="5"></div>
                        <div class="cell" data-x="1" data-y="5"></div>
                        <div class="cell" data-x="2" data-y="5"></div>
                        <div class="cell" data-x="3" data-y="5"></div>
                        <div class="cell1" data-x="4" data-y="5"></div>
                    </div>
                    <div class="row">
                        <div class="cell" data-x="0" data-y="6"></div>
                        <div class="cell1" data-x="1" data-y="6"></div>
                        <div class="cell" data-x="2" data-y="6"></div>
                        <div class="cell1" data-x="3" data-y="6"></div>
                        <div class="cell" data-x="4" data-y="6"></div>
                    </div>
                </div>
            </div>
        </div>

        <div class="grid-btn-diversao">
            <button id="display-gifs"><img src="./img/icons/smyle.png" alt="Gifs"></button>
            <button id="display-audios"><img src="./img/icons/sound.png" alt="Audios"></button>
        </div>

        <div class="grid-btn-grupo">
            <div class="container">
                <button id="mute-Button"><img src="./img/icons/mute.png" alt="" /></button>
                <button id="btn-sair"><img src="./img/icons/exit.png" alt="" /></button>
            </div>
        </div>

        <div class="grid-anuncio">
            <div class="anuncio">
                Lorem ipsum dolor sit amet consectetur adipisicing elit. Repudiandae velit tempore, officia saepe quo
                dolorum repellendus in repellat assumenda necessitatibus culpa, ullam perferendis asperiores? Amet error
                saepe provident aut voluptatibus.
            </div>
        </div>
    </div>

    <script type="module" src="./js/main.js"></script>
    <script>
        let styles = document.createElement('style');
        let fundo = localStorage.getItem('fundo');
        let peca = localStorage.getItem('peca');
        let skin = localStorage.getItem('skin');
        let placar = localStorage.getItem('placar');

        const btnGif = document.querySelector('#display-gifs');
        const btnAudio = document.querySelector('#display-audios');
        const imgDiversao = document.querySelector('#img-diversao');

        document.querySelector('.tema-placar').src = placar;

        let pecaSkin = peca == 'onca' ? `.piece-jaguar{background-image: url(${skin})}` : `.piece-dog{background-image: url(${skin})`;

        styles.type = 'text/css';
        styles.innerHTML = `
            body {
                background-image: url(${fundo});
            }
            ${pecaSkin}
        `;
        document.getElementsByTagName('head')[0].appendChild(styles);

        let diversao_gifs = [];
        let diversao_audios = [];
        if (localStorage.getItem('tema') == 1) {
            diversao_gifs = [
                './diversao/mario/gifs/gif1.gif',
                './diversao/mario/gifs/gif2.gif',
                './diversao/mario/gifs/gif3.gif',
                './diversao/mario/gifs/gif4.gif',
                './diversao/mario/gifs/gif5.gif',
                './diversao/mario/gifs/gif6.gif'
            ];
            diversao_audios = [
                './diversao/mario/audios/marioaudio1.mp3',
                './diversao/mario/audios/marioaudio2.mp3',
                './diversao/mario/audios/marioaudio3.mp3',
                './diversao/mario/audios/marioaudio4.mp3',
                './diversao/mario/audios/marioaudio5.mp3',
            ];
        } else if (localStorage.getItem('tema') == 2) {
            diversao_gifs = [
                './diversao/toystory/gifs/gif1.gif',
                './diversao/toystory/gifs/gif2.gif',
                './diversao/toystory/gifs/gif3.gif',
                './diversao/toystory/gifs/gif4.gif',
                './diversao/toystory/gifs/gif5.gif'
            ];
            diversao_audios = [
                './diversao/toystory/audios/audio1.mp3',
                './diversao/toystory/audios/audio2.mp3',
                './diversao/toystory/audios/audio3.mp3',
                './diversao/toystory/audios/audio4.mp3',
                './diversao/toystory/audios/audio5.mp3',
            ];
        } else if (localStorage.getItem('tema') == 3) {
            diversao_gifs = [
                './diversao/selvagem/gifs/gif1.gif',
                './diversao/selvagem/gifs/gif2.gif',
                './diversao/selvagem/gifs/gif3.gif',
                './diversao/selvagem/gifs/gif4.gif',
                './diversao/selvagem/gifs/gif5.gif'
            ];
            diversao_audios = [
                './diversao/selvagem/audios/audio1.mp3',
                './diversao/selvagem/audios/audio2.mp3',
                './diversao/selvagem/audios/audio3.mp3',
                './diversao/selvagem/audios/audio4.mp3'
            ];
        } else {
            diversao_gifs = [
                './diversao/chaves/gifs/gif1.gif',
                './diversao/chaves/gifs/gif2.gif',
                './diversao/chaves/gifs/gif3.gif',
                './diversao/chaves/gifs/gif4.gif',
                './diversao/chaves/gifs/gif5.gif'
            ];
            diversao_audios = [
                './diversao/chaves/audios/audio1.mp3',
                './diversao/chaves/audios/audio2.mp3',
                './diversao/chaves/audios/audio3.mp3',
                './diversao/chaves/audios/audio4.mp3',
                './diversao/chaves/audios/audio5.mp3'
            ];
        }

        function mostraGif() {
            let random = Math.floor(Math.random() * diversao_gifs.length);
            imgDiversao.src = diversao_gifs[random];
            imgDiversao.style.display = 'block';
            setTimeout(esconderGif, 7000);
        }

        function esconderGif() {
            imgDiversao.style.display = 'none';
        }

        btnGif.addEventListener('click', mostraGif);

        function mostraAudio() {
            let random = Math.floor(Math.random() * diversao_audios.length);
            let efeito = new Audio(diversao_audios[random]);
            efeito.volume = .5;
            efeito.play();
        }

        btnAudio.addEventListener('click', mostraAudio);
    </script>
</body>

</html>